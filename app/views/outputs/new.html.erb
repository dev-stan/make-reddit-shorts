<div class="container mt-3 text-white mt-24 px-24 justify-center">
  <div class="row">
    <!-- Full-width column -->
    <% flash.each do |type, msg| %>
      <div class="alert alert-<%= type %>">
        <%= msg %>
      </div>
    <% end %>
    <%= simple_form_for @output, data: { controller: "output-upload", output_upload_target: "form" } do |f| %>
      <!-- Reddit Post URL -->
      <div class="mb-3">
        <h4>Reddit Post</h4>
        <%= f.input :reddit_post_url,
            label: "Reddit Post URL",
            placeholder: "Enter Reddit post URL",
            input_html: {
              value: params[:query],
              data: {
                script_edit_target: "input",
                action: "input->script-edit#checkUrl"
              },
              class: 'form-control'
            } %>
      </div>
      <!-- Script Input -->
      <div class="mb-3">
        <h4>Video script</h4>
        <%= f.input :script,
              label: "Script",
              as: :text,
              input_html: {
                data: {
                  script_edit_target: "script",
                  action: "input->script-edit#updateEstimate"
                },
                class: 'form-control',
                rows: 10,
                'data-output-upload-target': 'input'
              },
              error: false %>
      </div>
      <p data-script-edit-target="estimate">Estimated speech time: 0 seconds</p>
      <!-- Video Source Selection -->
      <h4>Background video</h4>
      <div class="mb-3 mt-10">
        <div class="d-flex justify-content-center">
          <%= render 'partials/source_preview' %>
          <%= render 'partials/source_preview' %>
          <%= render 'partials/source_preview' %>
          <%= render 'partials/source_preview' %>
        </div>
        <div class="d-flex justify-content-center">
          <%= render 'partials/text_preview' %>
          <%= render 'partials/text_preview' %>
          <%= render 'partials/text_preview' %>
          <%= render 'partials/text_preview' %>
        </div>
        <%= f.collection_radio_buttons :source_id, @sources, :id, :to_s do |b| %>
          <div class="form-check">
            <%= b.radio_button(class: "form-check-input") %>
            <%= b.label(class: "form-check-label") %>
          </div>
        <% end %>
      </div>
      <!-- Subtitle Preset Selection -->
      <div class="mb-3">
        <h4>Select Subtitle Preset:</h4>
        <%= f.input :subtitle_preset, as: :radio_buttons, collection: [['Vanilla', 'Vanilla'], ['Yellow', 'Yellow'], ['Red', 'Red']], label: false, item_wrapper_class: 'form-check', input_html: { class: 'form-check-input' }, item_label_class: 'form-check-label' %>
      </div>
      <!-- Voice Settings -->
      <div class="mb-3">
        <h4>Voice Settings</h4>
        <%= f.input :voice_preset, as: :radio_buttons, collection: [['male', 'Matthew'], ['female', 'Ruth']], label: false, item_wrapper_class: 'form-check', input_html: { class: 'form-check-input' }, item_label_class: 'form-check-label' %>
      </div>
      <!-- Speed Settings -->
      <div class="mb-3">
        <h4>Speed Settings</h4>
        <%= f.input :voice_speed, as: :radio_buttons, collection: [['slow', 'slow'], ['medium', 'medium'], ['fast', 'fast']], label: false, item_wrapper_class: 'form-check', input_html: { class: 'form-check-input' }, item_label_class: 'form-check-label' %>
      </div>
      <%= f.button :submit, "Generate", data: { action: "click->output-upload#submit" }, class: 'btn btn-primary' %>
    <% end %>
  </div>
</div>
